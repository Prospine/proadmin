<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="../image/favicon.png" type="image/x-icon" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/changelog.css">
  <title>Changelog</title>
</head>

<body>
  <header>
    <div class="nav">
      <a href="dashboard.php"> <i class="fa-solid fa-arrow-left"> Back</i></a>
    </div>
    <div class="text">
      <h1>Changelog</h1>
      <p>
        Stay up to date with the latest changes! Since the first release, we’ve been
        working hard to make this project the best it can be. Thanks everyone for your feedback ❤️
      </p>
    </div>
  </header>

  <main>
    <div class="segment">
      <div class="log-entry">
        <h2>v2.1.0 <span class="badge merged">Merged</span></h2>
        <div class="meta">September 9, 2025 · Dashboard & Schedule Module ·
          <a href="https://github.com/Prospine/proadmin/commit/1277dca66f50e87d98377f677ae28c5b0b387548"> View changes</a>
        </div>
        <ul class="changes">
          <li><span class="tag added">Added</span> brand-new <code>Schedule</code> section in the dashboard,
            displaying upcoming and recent appointments in a structured, timeline-based view.</li>
          <li><span class="tag improved">Improved</span> schedule rendering logic to automatically <strong>group
              appointments by date</strong>,
            ensuring that each day’s events are clearly separated and easier to scan.</li>
          <li><span class="tag added">Added</span> <code>Status-based color coding</code> for appointments.
            Events now dynamically change appearance based on whether they are <strong>Pending</strong>,
            <strong>Consulted</strong>, or <strong>Other</strong>,
            making it easier to identify appointment outcomes at a glance.
          </li>
          <li><span class="tag added">Added</span> support for <code>No Appointments</code> states.
            On days without any scheduled appointments, a clean placeholder message is shown instead of an empty
            timeline.</li>
          <li><span class="tag improved">Improved</span> day selection bar (the <strong>Days Strip</strong>) to
            highlight the current day
            and provide quick navigation across past and future dates. The view automatically covers a <strong>date
              range around today</strong> for context.</li>
          <li><span class="tag fixed">Fixed</span> critical <code>Undefined variable $schedules</code> warning by
            initializing fallback arrays and ensuring schedules are always handled safely, even when no data is present.
          </li>
          <li><span class="tag improved">Improved</span> appointment fetching logic by ensuring queries
            pull from the correct <code>registration</code> table with proper <strong>branch-level filtering</strong>
            and <strong>date constraints</strong>.</li>
          <li><span class="tag added">Added</span> <code>Dark Mode</code> toggle in the dashboard header.
            Users can now switch between light and dark themes with a single click, and the choice persists across
            sessions.</li>
          <li><span class="tag added">Added</span> dedicated <code>dark.css</code> theme file,
            leveraging <strong>CSS variables</strong> for consistent colors and introducing a subtle <strong>gradient
              background</strong>
            for a polished visual appearance.</li>
          <li><span class="tag improved">Improved</span> theme management logic using <code>localStorage</code>,
            so that user preferences for light/dark mode are remembered automatically on page reload.</li>
          <li><span class="tag improved">Improved</span> CSRF handling and fallback defaults for dashboard metrics,
            preventing form rendering issues when CSRF tokens are missing or uninitialized.</li>
          <li><span class="tag fixed">Fixed</span> multiple cases where the schedule or timeline
            would fail to render correctly when no data was returned by the query.</li>
          <li><span class="tag improved">Improved</span> the dashboard’s overall data-fetching flow by adding
            <strong>try/catch safety wrappers</strong>, preventing the entire page from breaking if a single query
            fails.
          </li>
          <li><span class="tag added">Added</span> scalable structure for future <code>Event Types</code>,
            so the schedule view can later support different appointment categories (consultations, tests, follow-ups,
            etc.).</li>
        </ul>
      </div>
    </div>
  </main>

  <footer>
    © 2025 Prospine · Made with ☕ + sanity sacrifices
  </footer>
</body>

</html>