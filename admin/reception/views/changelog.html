<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="../image/favicon.png" type="image/x-icon" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="../css/changelog.css">
  <title>Changelog</title>
</head>

<body>
  <header>
    <div class="nav"><a href="dashboard.php"> <i class="fa-solid fa-arrow-left"> Back</i></a>
    </div>
    <div class="text">
      <h1>Changelog</h1>
      <p>
        Stay up to date with the latest changes! Since the first release, we’ve been
        working hard to make this project the best it can be. Thanks everyone for your feedback ❤️
      </p>
    </div>
  </header>

  <main>
    <div class="segment">
      <div class="log-entry">
        <h2>v2.1.9 <span class="badge merged">Merged</span></h2>
        <div class="meta">September 26, 2025 · Tests, Payments & Patient Management ·
          <a href="#">View changes</a>
        </div>
        <ul class="changes">
          <!-- API Changes -->
          <li><span class="tag added">Added</span> <strong>update_payment.php</strong> API to handle inline payment
            updates for tests, including validation of amounts, automatic adjustment of <code>advance_amount</code> and
            <code>due_amount</code>, and dynamic <code>payment_status</code> updates.</li>
          <li><span class="tag added">Added</span> <strong>update_payment_status.php</strong> API for manual payment
            status updates (<code>pending</code>, <code>partial</code>, <code>paid</code>) for each test record.</li>
          <li><span class="tag added">Added</span> <strong>update_test_status.php</strong> API to manage test status
            changes (<code>pending</code>, <code>completed</code>, <code>cancelled</code>) dynamically from the UI.</li>
          <li><span class="tag added">Added</span> <strong>get_patient_summary.php</strong> API to fetch patient summary
            for printing and modal display, including total paid, today’s payment, and attendance details.</li>
          <li><span class="tag improved">Improved</span> <strong>fetch_patient.php</strong> and
            <strong>fetch_test.php</strong> APIs to provide more comprehensive patient/test details, including
            attendance, treatment info, and payment summaries.</li>

          <!-- JavaScript Changes -->
          <li><span class="tag added">Added</span> drawer-based inline editing for payments and statuses in
            <strong>patients.js</strong>, <strong>billings.js</strong>, and <strong>test.js</strong>, replacing prompt
            popups with interactive input fields and save buttons.</li>
          <li><span class="tag added">Added</span> toast notifications for success/error messages in payment and status
            updates with auto-dismiss and optional page reload after 3 seconds.</li>
          <li><span class="tag improved">Improved</span> JS logic for reloading drawer content dynamically after updates
            to maintain context and display accurate, up-to-date data.</li>

          <!-- CSS Changes -->
          <li><span class="tag improved">Improved</span> <strong>billings.css</strong>, <strong>patients.css</strong>,
            <strong>dashboard.css</strong>, and <strong>test.css</strong> for better layout, responsiveness, and UI
            consistency across light and dark themes.</li>

          <!-- View Changes -->
          <li><span class="tag added">Added</span> new <strong>expenses.php</strong> view with session and branch-based
            restrictions for reporting purposes.</li>
          <li><span class="tag improved">Improved</span> <strong>billing.php</strong>, <strong>patients.php</strong>,
            <strong>appointments.php</strong>, and <strong>attendance.php</strong> to integrate drawer-based
            patient/test details and inline payment/status updates.</li>
          <li><span class="tag improved">Improved</span> <strong>dashboard.php</strong>, <strong>reports.php</strong>,
            and <strong>tests.php</strong> with dynamic content loading, structured patient/test summaries, and
            responsive layouts.</li>
          <li><span class="tag fixed">Fixed</span> inconsistencies in drawer open/close behavior, ensuring smooth
            animations and proper data refresh across multiple views.</li>
          <li><span class="tag fixed">Fixed</span> edge cases in payment updates where invalid or excessive amounts
            caused errors, now validated both client- and server-side.</li>
          <li><span class="tag added">Added</span> support for showing attendance as <code>completed/total days</code>
            in patient summary modals for better progress tracking.</li>

          <!-- Misc -->
          <li><span class="tag added">Added</span> <strong>changelog.html</strong> to maintain a structured version
            history with detailed entries.</li>
        </ul>
      </div>

      <div class="log-entry">
        <h2>v2.1.8 <span class="badge merged">Merged</span></h2>
        <div class="meta">September 20, 2025 · Billing & Patients Module ·
          <a href="#">View changes</a>
        </div>
        <ul class="changes">
          <li><span class="tag added">Added</span> comprehensive <strong>billing overview</strong> page with patient
            billing
            details, including <code>total bill</code>, <code>total paid</code>, and <code>outstanding dues</code>.</li>
          <li><span class="tag added">Added</span> interactive <strong>billing history drawer</strong> for each patient,
            displaying detailed transaction records with payment method, amount, and remarks.</li>
          <li><span class="tag added">Added</span> <strong>patients overview</strong> page to display core patient
            information,
            treatment details, attendance records, and effective balance calculations in a structured view.</li>
          <li><span class="tag improved">Improved</span> <strong>error handling and session management</strong> across
            billing
            and patient modules for enhanced security and stability.</li>
          <li><span class="tag improved">Improved</span> <strong>drawer interface</strong> with right-side animation,
            dynamic
            loading indicators, and responsive scaling for smaller screens.</li>
          <li><span class="tag improved">Improved</span> overall <strong>UI and responsiveness</strong> with optimized
            layouts,
            larger calendar boxes, and better alignment in both light and dark themes.</li>
          <li><span class="tag fixed">Fixed</span> inconsistencies in <code>patient data fetching</code> and <code>billing
        history rendering</code> that previously caused missing or duplicated entries.</li>
          <li><span class="tag fixed">Fixed</span> drawer close/open issues on <code>billing.php</code> and
            <code>attendance.php</code> ensuring smoother interactions.
          </li>
        </ul>
      </div>

      <div class="log-entry">
        <h2>v2.1.7 <span class="badge merged">Merged</span></h2>
        <div class="meta">September 12, 2025 · Patient Registration Module ·
          <a href="#">View changes</a>
        </div>
        <ul class="changes">
          <li><span class="tag added">Added</span> <strong>toast notifications</strong> across patient registration
            workflows for real-time feedback on successful registrations, errors, and validations.</li>
          <li><span class="tag improved">Improved</span> <strong>UI responsiveness</strong> on <code>inquiry.php</code>
            and <code>dashboard.php</code> to provide smoother form submissions and slot handling without page reloads.
          </li>
          <li><span class="tag added">Added</span> full <strong>dark mode support</strong> to registration forms,
            tables, and drawer components for seamless theme consistency.</li>
          <li><span class="tag improved">Improved</span> overall <strong>user experience</strong> by refining form
            validation messages, reducing flicker on updates, and aligning styles with the global design palette.</li>
          <li><span class="tag fixed">Fixed</span> minor layout glitches in the <code>appointment slot selector</code>
            when switching between time slots in dark mode.</li>
        </ul>
      </div>


      <div class="log-entry">
        <h2>v2.1.6 <span class="badge merged">Merged</span></h2>
        <div class="meta">September 13, 2025 · Patient Registration & Management Module ·
          <a href="https://github.com/Prospine/proadmin/commit/95333dd661354788b7373128cbf043a9f92baab4"> View
            changes</a>
        </div>
        <ul class="changes">
          <li><span class="tag added">Added</span> <code>check_patient.php</code> API to <strong>verify patient
              existence by registration ID</strong>, preventing duplicates and ensuring a smoother registration
            workflow. The API responds with clear JSON status flags for integration with forms and popups.</li>

          <li><span class="tag added">Added</span> <code>get_registration.php</code> API to <strong>fetch complete
              patient registration records</strong> (name, demographics, visit history, treatment details). This enables
            real-time data retrieval for UI components like drawers and popups.</li>

          <li><span class="tag added">Added</span> <code>save_remark.php</code> API for <strong>attaching remarks or
              notes</strong> directly to patient registrations. Supports multiple entries per patient and timestamp
            logging, creating a mini audit trail for doctors and staff.</li>

          <li><span class="tag added">Added</span> <code>update_registration_status.php</code> API to <strong>modify
              patient registration status</strong> (Pending → Consulted → Closed). Includes validation to avoid invalid
            transitions and ensures backend + UI consistency.</li>

          <li><span class="tag added">Added</span> comprehensive <code>registration.css</code> stylesheet with
            <strong>modular design patterns</strong> — improved spacing, typography, drawer animations, table alignment,
            and popup styling for a cleaner, professional look.
          </li>

          <li><span class="tag added">Added</span> <code>registration.php</code> view — a dedicated interface for
            managing <strong>patient registration lifecycle</strong>. Includes a searchable, sortable table with inline
            actions and real-time updates via AJAX.</li>

          <li><span class="tag added">Added</span> patient info <strong>drawer component</strong> that slides in
            contextually, allowing staff to <em>view patient details, registration status, and remarks</em> without
            navigating away from the dashboard. Optimized for quick lookups and updates.</li>

          <li><span class="tag added">Added</span> <strong>Add Patient popup</strong> with integrated treatment plan
            creation. Enables direct patient onboarding from any workflow — supports instant registration, plan linking,
            and validation checks in one flow.</li>

          <li><span class="tag improved">Improved</span> overall error handling — all new APIs now return
            <strong>structured JSON with success/error flags and messages</strong>. Edge cases like missing IDs, invalid
            status changes, and DB errors are handled gracefully.
          </li>

          <li><span class="tag improved">Improved</span> validation rules across the registration module — stricter
            field checks, consistent use of <code>htmlspecialchars()</code> for sanitization, and standardized response
            codes for easier frontend integration.</li>

          <li><span class="tag improved">Improved</span> registration workflow efficiency by combining <strong>lookup →
              add → manage</strong> flows into a single UI. Staff can now check if a patient exists, register them if
            not, and attach treatment plans without page reloads.</li>
        </ul>
      </div>

      <div class="log-entry">
        <h2>v2.1.5 <span class="badge progress">Progress</span></h2>
        <div class="meta">September 12, 2025 · Changelog Module · Nikhil Gautam ·
          <a href="https://github.com/Prospine/proadmin/commit/fdc4ab591eb9b24c147227e1d6efb5ffeab5de75">View
            changes</a>
        </div>
        <ul class="changes">
          <li>
            <span class="tag improved">
              Improved
            </span> Fixed url in past release.
          </li>
        </ul>
      </div>


      <div class="log-entry">
        <h2>v2.1.4 <span class="badge merged">Merged</span></h2>
        <div class="meta">September 12, 2025 · Inquiry Management & Dashboard Module ·
          <a href="#">View
            changes</a>
        </div>
        <ul class=" changes">
          <li><span class="tag added">Added</span> <code>get_slots.php</code> API to fetch <strong>half-hourly
              appointment slots</strong> (11 AM – 7 PM) dynamically, ensuring real-time availability.</li>
          <li><span class="tag added">Added</span> smart <strong>slot disabling system</strong> on the dashboard that
            prevents users from booking already filled slots, by checking <code>registrations.appointment_time</code>.
          </li>
          <li><span class="tag improved">Improved</span> <code>inquiry.php</code> with <strong>stronger session
              handling</strong>, CSRF token verification, and robust error reporting for stability in production.</li>
          <li><span class="tag added">Added</span> <code>insert_inquiry_reg.php</code> and
            <code>insert_inquiry_test.php</code> APIs with strict <strong>server-side validation</strong>, required
            field checks, and <strong>payment status logic</strong>.
          </li>
          <li><span class="tag improved">Improved</span> inquiry UI with <strong>structured forms</strong> for both
            quick inquiries and test inquiries, reducing clutter and making fields easier to navigate.</li>
          <li><span class="tag added">Added</span> permanent <strong>dark mode styling</strong> for inputs, tables,
            and
            dropdowns — including <strong>select menus</strong> which now remain dark even when expanded.</li>
          <li><span class="tag improved">Improved</span> background and component colors for dark mode using smooth
            <strong>transition effects</strong> across input fields, drawer panels, and table rows.
          </li>
          <li><span class="tag fixed">Fixed</span> dropdown issue where <strong>select fields</strong> reverted to
            white
            on expand — now they stay fully consistent with dark mode theme.</li>
          <li><span class="tag fixed">Fixed</span> database query handling in inquiry fetch APIs to resolve
            <code>SQLSTATE[HY093]: Invalid parameter number</code> errors.
          </li>
          <li><span class="tag added">Added</span> developer-friendly <strong>error messages</strong> and fallback
            handling in case of API or DB failures, improving debugging and reliability.</li>
        </ul>
      </div>

      <div class="log-entry">
        <h2>v2.1.3 <span class="badge merged">Merged</span></h2>
        <div class="meta">September 9, 2025 · Inquiry Management Module ·<a
            href="https://github.com/Prospine/proadmin/commit/dfcf1556a649d0e94499647c7497968e7c4c6639">View
            changes</a>
        </div>
        <ul class="changes">
          <li><span class="tag added">Added</span> <code>fetch_inquiry.php</code> endpoint to retrieve inquiry details
            based on <strong>type</strong> (<code>quick</code> / <code>test</code>) and <strong>inquiry_id</strong>.
          </li>
          <li><span class="tag added">Added</span> <code>update_inquiry_status.php</code> to update inquiry status
            dynamically
            and return JSON responses.</li>
          <li><span class="tag added">Added</span> new <strong>drawer component</strong> that slides in from the
            right,
            showing detailed inquiry information with clean styling.</li>
          <li><span class="tag improved">Improved</span> <code>inquiry.php</code> by displaying both<strong>Quick
              Inquiries</strong> and <strong>Test Inquiries</strong> in structured tables with
            updateable statuses.
          </li>
          <li><span class="tag added">Added</span> <strong>status pills</strong> (<code>Visited</code>,
            <code>Cancelled</code>, <code>Pending</code>) with permanent color coding
            for easier recognition across both tables.
          </li>
          <li><span class="tag improved">Improved</span> <code>inquiry.css</code> with compact,
            modern styles for the drawer and table, using <strong>flexbox</strong> and<strong>two-column
              layouts</strong> for better readability.
          </li>
          <li><span class="tag added">Added</span> elegant <strong>dark theme</strong> support with smooth
            <code>transition effects</code> for background, border, and text color changes.
          </li>
          <li><span class="tag fixed">Fixed</span> issue where status colors
            only appeared temporarily on update — now they remain permanent across reloads.</li>
          <li><span class="tag improved">Improved</span> <code>inquiry.js</code> to distinguish
            between Quick and Test tables when opening the drawer and fetching data.</li>
          <li><span class="tag added">Added</span> <strong>toast notifications</strong> to confirm
            successful status updates and other actions.</li>
        </ul>
      </div>

      <div class="log-entry">
        <h2>v2.1.2 <span class="badge merged">Merged</span></h2>
        <div class="meta">September 10, 2025 · Dashboard & Schedule Module ·<a
            href="https://github.com/Prospine/proadmin/commit/1277dca66f50e87d98377f677ae28c5b0b387548"> View
            changes</a>
        </div>
        <ul class="changes">
          <li><span class="tag added">Added</span> brand-new <code>Schedule</code> section in the dashboard,
            displaying upcoming and recent appointments in a structured, timeline-based view.</li>
          <li><span class="tag improved">Improved</span> schedule rendering logic to automatically <strong>group
              appointments by date</strong>,
            ensuring that each day’s events are clearly separated and easier to scan.</li>
          <li><span class="tag added">Added</span> <code>Status-based color coding</code> for appointments.
            Events now dynamically change appearance based on whether they are
            <strong>Pending</strong>,<strong>Consulted</strong>, or <strong>Other</strong>,
            making it easier to identify appointment outcomes at a glance.
          </li>
          <li><span class="tag added">Added</span> support for <code>No Appointments</code> states.
            On days without any scheduled appointments, a clean placeholder message is shown instead of an empty
            timeline.</li>
          <li><span class="tag improved">Improved</span> day selection bar (the <strong>Days Strip</strong>) to
            highlight the current day
            and provide quick navigation across past and future dates. The view automatically covers a <strong>date
              range around today</strong> for context.</li>
          <li><span class="tag fixed">Fixed</span> critical <code>Undefined variable $schedules</code> warning by
            initializing fallback arrays and ensuring schedules are always handled safely, even when no data is
            present.
          </li>
          <li><span class="tag improved">Improved</span> appointment fetching logic by ensuring queries
            pull from the correct <code>registration</code> table with proper <strong>branch-level filtering</strong>
            and <strong>date constraints</strong>.</li>
          <li><span class="tag added">Added</span> <code>Dark Mode</code> toggle in the dashboard header.
            Users can now switch between light and dark themes with a single click, and the choice persists across
            sessions.</li>
          <li><span class="tag added">Added</span> dedicated <code>dark.css</code> theme file,
            leveraging <strong>CSS variables</strong> for consistent colors and introducing a subtle <strong>gradient
              background</strong>
            for a polished visual appearance.</li>
          <li><span class="tag improved">Improved</span> theme management logic using <code>localStorage</code>,
            so that user preferences for light/dark mode are remembered automatically on page reload.</li>
          <li><span class="tag improved">Improved</span> CSRF handling and fallback defaults for dashboard metrics,
            preventing form rendering issues when CSRF tokens are missing or uninitialized.</li>
          <li><span class="tag fixed">Fixed</span> multiple cases where the schedule or timeline
            would fail to render correctly when no data was returned by the query.</li>
          <li><span class="tag improved">Improved</span> the dashboard’s overall data-fetching flow by
            adding<strong>try/catch safety wrappers</strong>, preventing the entire page from breaking if a single
            query
            fails.
          </li>
          <li><span class="tag added">Added</span> scalable structure for future <code>Event Types</code>,
            so the schedule view can later support different appointment categories (consultations, tests, follow-ups,
            etc.).</li>
        </ul>
      </div>

      <div class="log-entry">
        <h2>v2.1.1 <span class="badge merged">Merged</span></h2>
        <div class="meta">September 11, 2025 · Admin Portal & Reception Dashboard ·<a
            href="https://github.com/Prospine/proadmin/commit/8ac2861392073305a8fe59732a51230f7a0c655c">View
            changes</a>
        </div>
        <ul class="changes">
          <li><span class="tag added">Added</span> <code>login.js</code> to enable password visibility toggle for
            improved UX.</li>
          <li><span class="tag added">Added</span> <code>index.html</code> as the landing page for the admin portal.
          </li>
          <li><span class="tag added">Added</span> <code>login.php</code> with session management, CSRF protection,
            and
            brute force prevention to enhance login security.</li>
          <li><span class="tag added">Added</span> CSS styles for <strong>reception dashboard</strong>
            and<strong>welcome page</strong> for consistent UI.
          </li>
          <li><span class="tag added">Added</span> <code>welcome.js</code> to display a loading progress animation and
            redirect users post-login.</li>
          <li><span class="tag added">Added</span> <code>dashboard.html</code> for the reception dashboard, featuring
            navigation and card-based layout for easy access to key sections.</li>
          <li><span class="tag improved">Improved</span> overall login flow with enhanced session security, preventing
            unauthorized access and session hijacking.</li>
        </ul>
      </div>

    </div>
  </main>

  <footer>
    © 2025 Prospine · Made with ☕ + sanity sacrifices
  </footer>
</body>

</html>